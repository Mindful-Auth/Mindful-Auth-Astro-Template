---
// Reset Password page (dynamic route with token)
import AuthLayout from "@/layouts/AuthLayout.astro";
---

<AuthLayout title="Reset Password">
    <div class="auth-container">
        <div class="auth-card">
            <h1>Set a New Password</h1>
            <p>Create a new, strong password for your account.</p>

            <form method="post" data-mindfulauth-form="reset-password">
                <div>
                    <label>New Password</label>
                    <input
                        type="password"
                        name="new-password"
                        minlength="8"
                        required
                        data-mindfulauth-field="new-password"
                    />
                </div>
                <div>
                    <label>Confirm Password</label>
                    <input
                        type="password"
                        name="confirm-password"
                        required
                        data-mindfulauth-field="confirm-password"
                    />
                </div>
                <div hidden data-mindfulauth-field="twofa-container">
                    <label>2FA Code</label>
                    <input
                        type="text"
                        name="twofa-code-reset-password"
                        inputmode="numeric"
                        pattern="[0-9]{6}"
                        maxlength="6"
                        placeholder="Enter 6-digit code"
                        data-mindfulauth-field="twofa-code"
                    />
                    <small
                        >Enter the 6-digit code from your authenticator app.</small
                    >
                </div>
                <div data-mindfulauth-turnstile></div>
                <button type="submit">Reset Password</button>
                <p data-mindfulauth-field="message"></p>
            </form>

            <!-- MINDFUL AUTH CDN SCRIPTS. DO NOT DELETE -->
            <script src="https://cdn.mindfulauth.com/astro/turnstile-init.js"
            ></script>
            <script src="https://cdn.mindfulauth.com/astro/reset-password.js"
            ></script>
        </div>
    </div>
</AuthLayout>
